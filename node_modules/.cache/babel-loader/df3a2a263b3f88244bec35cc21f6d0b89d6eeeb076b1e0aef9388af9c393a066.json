{"ast":null,"code":"import _regeneratorRuntime from \"/home/pedrini/Documentos/BLOCO-DE-ANOTACOES/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/pedrini/Documentos/BLOCO-DE-ANOTACOES/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport { getAllNotes, deleteNote } from \"@/indexdb.js\";\nexport default {\n  data: function data() {\n    return {\n      anotacoes: [],\n      // Array para armazenar as anotações\n      dialogoExclusao: false,\n      // Flag para controlar a exibição do diálogo de exclusão\n      indiceExclusao: null // Índice da anotação a ser excluída\n    };\n  },\n  methods: {\n    exibirDialogoExclusao: function exibirDialogoExclusao(index) {\n      var _this = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _this.indiceExclusao = index;\n              _this.dialogoExclusao = true;\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    },\n    confirmarExclusao: function confirmarExclusao() {\n      var _this2 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var index, anotacaoParaExcluir;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              index = _this2.indiceExclusao;\n              anotacaoParaExcluir = _this2.anotacoes[index];\n              _context2.prev = 2;\n              _context2.next = 5;\n              return deleteNote(\"notesDB\", \"notes\", anotacaoParaExcluir.id);\n            case 5:\n              console.log(\"Anotação excluída do IndexedDB com sucesso!\");\n\n              // Remove a anotação da lista local\n              _this2.anotacoes.splice(index, 1);\n\n              // Fecha o diálogo de confirmação\n              _this2.dialogoExclusao = false;\n              _context2.next = 13;\n              break;\n            case 10:\n              _context2.prev = 10;\n              _context2.t0 = _context2[\"catch\"](2);\n              console.error(\"Erro ao excluir anotação do IndexedDB\", _context2.t0);\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, null, [[2, 10]]);\n      }))();\n    },\n    mostrarDetalhes: function mostrarDetalhes(index) {\n      var _this3 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var detalhes;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              // Lógica para exibir os detalhes da anotação\n              detalhes = _this3.anotacoes[index].content;\n              console.log('Detalhes da Anotação:', detalhes);\n\n              // Redireciona para a página de notas salvas\n              _this3.$router.push('/notas-salvas');\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3);\n      }))();\n    },\n    editarAnotacao: function editarAnotacao(index) {\n      // Obtem o ID da anotação a ser editada\n      var notaId = this.anotacoes[index].id;\n\n      // Redireciona para a tela de edição, passando o ID da anotação como parâmetro\n      this.$router.push({\n        name: 'editar-nota',\n        params: {\n          id: notaId\n        }\n      });\n    },\n    criarNovaAnotacao: function criarNovaAnotacao() {\n      var _this4 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              _this4.$router.push('/BlocoAnotacoes'); // Redireciona para a tela de criação de anotação\n            case 1:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4);\n      }))();\n    },\n    carregarAnotacoes: function carregarAnotacoes() {\n      var _this5 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n        var notes;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.prev = 0;\n              _context5.next = 3;\n              return getAllNotes(\"notesDB\", \"notes\");\n            case 3:\n              notes = _context5.sent;\n              _this5.anotacoes = notes;\n              _context5.next = 10;\n              break;\n            case 7:\n              _context5.prev = 7;\n              _context5.t0 = _context5[\"catch\"](0);\n              console.error(\"Erro ao obter anotações do IndexedDB\", _context5.t0);\n            case 10:\n            case \"end\":\n              return _context5.stop();\n          }\n        }, _callee5, null, [[0, 7]]);\n      }))();\n    }\n  },\n  created: function created() {\n    // Ao entrar na página, carrega as anotações\n    this.carregarAnotacoes();\n  }\n};","map":{"version":3,"names":["getAllNotes","deleteNote","data","anotacoes","dialogoExclusao","indiceExclusao","methods","exibirDialogoExclusao","index","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","stop","confirmarExclusao","_this2","_callee2","anotacaoParaExcluir","_callee2$","_context2","id","console","log","splice","t0","error","mostrarDetalhes","_this3","_callee3","detalhes","_callee3$","_context3","content","$router","push","editarAnotacao","notaId","name","params","criarNovaAnotacao","_this4","_callee4","_callee4$","_context4","carregarAnotacoes","_this5","_callee5","notes","_callee5$","_context5","sent","created"],"sources":["src/views/Notes.vue"],"sourcesContent":["<template>\n  <v-container>\n    <h1>Todas as Anotações</h1>\n\n    <!-- Lista de Anotações -->\n    <v-list>\n      <v-list-item-group v-if=\"anotacoes.length > 0\">\n        <v-list-item v-for=\"(anotacao, index) in anotacoes\" :key=\"index\">\n          <v-list-item-content @click=\"mostrarDetalhes(index)\">\n            <v-list-item-title>{{ anotacao.content }}</v-list-item-title>\n          </v-list-item-content>\n          <v-list-item-action>\n            <v-btn icon @click=\"exibirDialogoExclusao(index)\">\n              <v-icon>mdi-delete</v-icon>\n            </v-btn>\n            <v-btn icon @click=\"editarAnotacao(index)\">\n              <v-icon>mdi-pencil</v-icon>\n            </v-btn>\n          </v-list-item-action>\n        </v-list-item>\n      </v-list-item-group>\n      <v-list-item v-else>\n        <v-list-item-content>Nenhuma anotação encontrada.</v-list-item-content>\n      </v-list-item>\n    </v-list>\n\n    <!-- Diálogo de Confirmação para Exclusão -->\n    <v-dialog v-model=\"dialogoExclusao\" max-width=\"500\">\n      <v-card>\n        <v-card-title>Confirmação</v-card-title>\n        <v-card-text>\n          Tem certeza de que deseja excluir esta anotação?\n        </v-card-text>\n        <v-card-actions>\n          <v-btn @click=\"dialogoExclusao = false\">Cancelar</v-btn>\n          <v-btn @click=\"confirmarExclusao\" color=\"primary\">Confirmar</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <!-- Botão para criar nova anotação -->\n    <v-btn @click=\"criarNovaAnotacao\" color=\"primary\">+ Criar Anotação</v-btn>\n  </v-container>\n</template>\n\n<script>\nimport { getAllNotes, deleteNote } from \"@/indexdb.js\";\n\nexport default {\n  data() {\n    return {\n      anotacoes: [], // Array para armazenar as anotações\n      dialogoExclusao: false, // Flag para controlar a exibição do diálogo de exclusão\n      indiceExclusao: null, // Índice da anotação a ser excluída\n    };\n  },\n  methods: {\n    async exibirDialogoExclusao(index) {\n      this.indiceExclusao = index;\n      this.dialogoExclusao = true;\n    },\n    async confirmarExclusao() {\n      const index = this.indiceExclusao;\n      const anotacaoParaExcluir = this.anotacoes[index];\n\n      try {\n        // Exclui a anotação do IndexedDB\n        await deleteNote(\"notesDB\", \"notes\", anotacaoParaExcluir.id);\n        console.log(\"Anotação excluída do IndexedDB com sucesso!\");\n\n        // Remove a anotação da lista local\n        this.anotacoes.splice(index, 1);\n\n        // Fecha o diálogo de confirmação\n        this.dialogoExclusao = false;\n      } catch (error) {\n        console.error(\"Erro ao excluir anotação do IndexedDB\", error);\n      }\n    },\n    async mostrarDetalhes(index) {\n      // Lógica para exibir os detalhes da anotação\n      const detalhes = this.anotacoes[index].content;\n      console.log('Detalhes da Anotação:', detalhes);\n\n      // Redireciona para a página de notas salvas\n      this.$router.push('/notas-salvas');\n    },\n    editarAnotacao(index) {\n      // Obtem o ID da anotação a ser editada\n      const notaId = this.anotacoes[index].id;\n\n      // Redireciona para a tela de edição, passando o ID da anotação como parâmetro\n      this.$router.push({ name: 'editar-nota', params: { id: notaId } });\n    },\n    async criarNovaAnotacao() {\n      this.$router.push('/BlocoAnotacoes'); // Redireciona para a tela de criação de anotação\n    },\n    async carregarAnotacoes() {\n      // Lógica para carregar as anotações do IndexedDB\n      try {\n        const notes = await getAllNotes(\"notesDB\", \"notes\");\n        this.anotacoes = notes;\n      } catch (error) {\n        console.error(\"Erro ao obter anotações do IndexedDB\", error);\n      }\n    },\n  },\n  created() {\n    // Ao entrar na página, carrega as anotações\n    this.carregarAnotacoes();\n  },\n};\n</script>\n\n<style scoped>\n/* Adicione seus estilos aqui conforme necessário */\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}